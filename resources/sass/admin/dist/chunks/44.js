(window.webpackJsonp=window.webpackJsonp||[]).push([[44],{VWNI:function(a,t,e){"use strict";e.r(t);var s=e("S2uq"),n=e("eHvb"),i=e("tyoB"),r=e("0pXA"),c=e("ta7f"),u={name:"pengajuan-step-7",props:["accessUpdate","accessRead"],components:{substep71:s.a,substep72:n.a,substep73:i.a,substep74:r.a},validations:{form:{nama_pekerjaan:{required:c.required},tahun:{required:c.required},base_no_pengadaan:{required:c.required}}},data:function(){return{curStep:7,tabIndex:0}},computed:{isWriteable:function(){return!!(this.pengajuan.status>=6&&this.pengajuan.status<=9&&this.accessUpdate)},isWriteableStep71:function(){return this.isWriteable&&6==this.pengajuan.status},isWriteableStep72:function(){return this.isWriteable&&7==this.pengajuan.status},isWriteableStep73:function(){return this.isWriteable&&8==this.pengajuan.status},isWriteableStep74:function(){return this.isWriteable&&9==this.pengajuan.status},pengajuan:{get:function(){return this.$store.state.pengajuan.oneData},set:function(a){this.$store.commit("pengajuan/setOneData",a)}}},created:function(){this.pengajuan.status>=9?this.changeTab(3):this.pengajuan.status>=8?this.changeTab(2):this.pengajuan.status>=7&&this.changeTab(1)},watch:{tabIndex:function(a){console.log("tabindex change : ",a)}},methods:{changeTab:function(a){this.tabIndex=a,console.log("update status : ",this.isWriteableStep73,this.isWriteableStep74)},nextStep:function(){var a=this,t={id:this.pengajuan.id,status:10};this.$store.dispatch("pengajuan/updatePengajuan",t).then(function(t){a.Web.showAlert({text:"Pengajuan berhasil diproses selanjutnya"}),a.$router.push({name:"pengajuan"})}).catch(function(t){a.Web.showAlert({text:"Save data failed : "+t.message,type:"warning"})})}}},p=e("KHd+"),b=Object(p.a)(u,function(){var a=this,t=a.$createElement,e=a._self._c||t;return e("b-card",{attrs:{"no-body":""}},[e("b-card-header",{staticClass:"with-elements"},[e("div",{staticClass:"card-header-title mr-2"},[e("h4",[a._v("Step 7")]),a._v(" "),e("span",[a._v("Proses Pengadaan oleh Laksdan")])]),a._v(" "),a.pengajuan.status<6||a.pengajuan.status>9?e("div",{staticClass:"card-header-elements ml-md-auto"},[e("b-badge",{attrs:{variant:"outline-danger"}},[a._v("Read Only")])],1):a._e()]),a._v(" "),a.pengajuan.spk&&a.pengajuan.spk.catatan_penolakan&&a.pengajuan.status_terakhir!=a.pengajuan.status?e("b-alert",{attrs:{show:"",variant:"dark-warning m-4"}},[a._v("\n      Alasan Penolakan : "+a._s(a.pengajuan.spk.catatan_penolakan)+"\n    ")]):a._e(),a._v(" "),e("b-card",{staticClass:"bg-light",attrs:{"no-body":""}},[e("b-tabs",{staticClass:"nav-tabs-top",attrs:{card:""},model:{value:a.tabIndex,callback:function(t){a.tabIndex=t},expression:"tabIndex"}},[e("b-tab",{staticClass:"pt-2 pl-3 pr-3",attrs:{title:"Step 7.1 Setup"}},[e("substep71",{attrs:{accessUpdate:a.accessUpdate,curStep:a.curStep,isWriteable:a.isWriteableStep71,accessRead:a.accessRead},on:{changeTab:a.changeTab}})],1),a._v(" "),e("b-tab",{attrs:{title:"Step 7.2 Evaluasi Mitra"}},[e("substep72",{attrs:{accessUpdate:a.accessUpdate,curStep:a.curStep,isWriteable:a.isWriteableStep72,accessRead:a.accessRead},on:{changeTab:a.changeTab}})],1),a._v(" "),e("b-tab",{attrs:{title:"Step 7.3 Negosiasi"}},[e("substep73",{attrs:{accessUpdate:a.accessUpdate,curStep:a.curStep,isWriteable:a.isWriteableStep73,accessRead:a.accessRead},on:{changeTab:a.changeTab}})],1),a._v(" "),e("b-tab",{attrs:{title:"Step 7.4 Spk"}},[e("substep74",{attrs:{accessUpdate:a.accessUpdate,curStep:a.curStep,isWriteable:a.isWriteableStep74,accessRead:a.accessRead},on:{changeTab:a.changeTab}})],1)],1)],1)],1)},[],!1,null,null,null);t.default=b.exports}}]);