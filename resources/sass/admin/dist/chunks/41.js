(window.webpackJsonp=window.webpackJsonp||[]).push([[41],{uhsC:function(t,a,e){"use strict";e.r(a);var s=e("Q5Zs"),i=e("l+2V"),r={name:"master-mitra-list",data:function(){return{currencyMask:i.createNumberMask({prefix:"Rp. "}),sortBy:"id",sortDesc:!1,perPage:10,curPage:1,searchString:"",loading:!1,fields:[{key:"nama_item",sortable:!0,thStyle:"min-width: 15rem"},{key:"pengajuan",sortable:!0,thStyle:"min-width: 15rem"},{key:"ref_rab",label:"AHS Usulan",thStyle:"min-width: 15rem"},{key:"ref_evaluasi",label:"HPS",thStyle:"min-width: 15rem"},{key:"ref_ahs",label:"AHS",sortable:!0,thStyle:"min-width: 15rem"}],listData:{data:[],count:0}}},computed:{formTitle:function(){return this.isAdd?"Tambah Baru":"Edit"},totalPages:function(){return Math.ceil(this.listData.count/this.perPage)}},watch:{curPage:function(t){this.loadData(t,this.searchString,this.sortBy,this.sortDesc)},perPage:function(t){this.loadData(this.curPage,this.searchString,this.sortBy,this.sortDesc)},sortBy:function(t){this.loadData(this.curPage,this.searchString,t,this.sortDesc)},sortDesc:function(t){this.loadData(this.curPage,this.searchString,this.sortBy,t)},searchString:function(t){if(""!=t){var a=t.toLowerCase(),e=this;clearTimeout(this.suggestTimeout),this.suggestTimeout=setTimeout(function(){e.loadData(1,a)},300)}else this.loadData(1)}},methods:{isPdf:function(t){return"pdf"==t.split(".").pop().toLowerCase()},formatPrice:function(t){return Object(s.conformToMask)(String(t),this.currencyMask,{guide:!1}).conformedValue},loadData:function(t){var a=this,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",s=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];this.loading=!0;var r=this.perPage*(t-1),n={limit:this.perPage,offset:r};""!=e&&(n.q=e),0!=s&&(n.orderBy=s,n.orderType=i?"DESC":"ASC"),this.LocalApi.get(this.AppConfig.endpoint.api.Master+"/item",{params:n}).then(function(t){a.listData=t.data.data})}},created:function(){this.loadData(1)}},n=e("KHd+"),l=Object(n.a)(r,function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",[t._m(0),t._v(" "),e("b-card",{attrs:{"no-body":""}},[e("b-card-body",[e("div",{staticClass:"row"},[e("div",{staticClass:"col"},[t._v("\n          Per page: Â \n          "),e("b-select",{staticClass:"d-inline-block w-auto",attrs:{size:"sm",options:[10,20,30,40,50]},model:{value:t.perPage,callback:function(a){t.perPage=a},expression:"perPage"}})],1),t._v(" "),e("div",{staticClass:"col"},[e("b-input",{staticClass:"d-inline-block w-auto float-sm-right",attrs:{size:"sm",placeholder:"Search..."},model:{value:t.searchString,callback:function(a){t.searchString=a},expression:"searchString"}})],1)])]),t._v(" "),e("hr",{staticClass:"border-light m-0"}),t._v(" "),e("div",{staticClass:"table-responsive"},[e("b-table",{staticClass:"card-table",attrs:{items:t.listData.data,fields:t.fields,"sort-by":t.sortBy,"sort-desc":t.sortDesc,striped:!0,bordered:!0,"current-page":t.curPage,"per-page":t.perPage},on:{"update:sortBy":function(a){t.sortBy=a},"update:sort-by":function(a){t.sortBy=a},"update:sortDesc":function(a){t.sortDesc=a},"update:sort-desc":function(a){t.sortDesc=a}},scopedSlots:t._u([{key:"nama_item",fn:function(a){return[e("h5",[t._v(t._s(a.item.nama_item))]),t._v(" "),e("small",[e("b",[t._v("Satuan :")]),t._v("\n            "+t._s(a.item.satuan)),e("br"),t._v(" "),e("b",[t._v("Harga RAB :")]),t._v("\n            "+t._s(t.formatPrice(a.item.harga_rab))),e("br"),t._v(" "),e("b",[t._v("Jasa RAB :")]),t._v("\n            "+t._s(t.formatPrice(a.item.jasa_rab))),e("br"),t._v(" "),e("b",[t._v("Keterangan :")]),t._v("\n            "+t._s(a.item.keterangan)),e("br")])]}},{key:"pengajuan",fn:function(a){return[e("div",[e("h5",[e("router-link",{attrs:{to:{name:"pengajuan.edit",params:{pId:a.item.pengajuan.id}}}},[t._v(t._s(a.item.pengajuan.nama_pekerjaan))])],1),t._v(" "),e("small",[e("b",[t._v("Jenis :")]),t._v(t._s(0==a.item.pengajuan.jenis_pekerjaan?"Barang":"Jasa")),e("br"),t._v(" "),e("b",[t._v("No RAB :")]),t._v(t._s(a.item.pengajuan.rab?a.item.pengajuan.rab.no_usulan_rab:"-")),e("br"),t._v(" "),e("b",[t._v("No WBS :")]),t._v(t._s(a.item.pengajuan.prk?a.item.pengajuan.prk.no_wbs:"-")),e("br"),t._v(" "),e("b",[t._v("No PRK :")]),t._v(t._s(a.item.pengajuan.prk?a.item.pengajuan.prk.no_prk:"-")),e("br")])])]}},{key:"ref_rab",fn:function(a){return[t._l(a.item.ref_rab,function(a){return[e("b",[t._v(t._s(a.nama))]),e("br"),t._v(" "),e("div",{staticClass:"row"},[a.image?e("div",{staticClass:"ui-w-80 ml-3 mt-2"},[t.isPdf(a.image)?[e("a",{attrs:{href:t.publicUrl+"upload/"+a.image}},[e("i",{staticClass:"fas fa-file-pdf"}),t._v(" view file\n                              ")])]:[a.image?e("img",{directives:[{name:"img",rawName:"v-img"}],staticClass:"d-block ui-w-80",attrs:{src:t.publicUrl+"upload/"+a.image,alt:""}}):t._e()]],2):t._e(),t._v(" "),e("div",{staticClass:"col"},[e("small",[e("b",[t._v("Deskripsi :")]),t._v(" "+t._s(a.deskripsi)),e("br"),t._v(" "),e("b",[t._v("Harga :")]),t._v(" "+t._s(t.formatPrice(a.harga))),e("br"),t._v(" "),e("b",[t._v("ROK :")]),t._v(" "+t._s(t.formatPrice(a.rok))),e("br"),t._v(" "),e("b",[t._v("Tanggal :")]),t._v(" "+t._s(a.itemRef)),e("br")])])]),t._v(" "),e("hr")]})]}},{key:"ref_evaluasi",fn:function(a){return[t._l(a.item.ref_evaluasi,function(a){return[e("b",[t._v(t._s(a.nama))]),e("br"),t._v(" "),e("div",{staticClass:"row"},[a.image?e("div",{staticClass:"ui-w-80 ml-3 mt-2"},[t.isPdf(a.image)?[e("a",{attrs:{href:t.publicUrl+"upload/"+a.image}},[e("i",{staticClass:"fas fa-file-pdf"}),t._v(" view file\n                              ")])]:[a.image?e("img",{directives:[{name:"img",rawName:"v-img"}],staticClass:"d-block ui-w-80",attrs:{src:t.publicUrl+"upload/"+a.image,alt:""}}):t._e()]],2):t._e(),t._v(" "),e("div",{staticClass:"col"},[e("small",[e("b",[t._v("Deskripsi :")]),t._v(" "+t._s(a.deskripsi)),e("br"),t._v(" "),e("b",[t._v("Harga :")]),t._v(" "+t._s(t.formatPrice(a.harga))),e("br"),t._v(" "),e("b",[t._v("ROK :")]),t._v(" "+t._s(t.formatPrice(a.rok))),e("br"),t._v(" "),e("b",[t._v("Tanggal :")]),t._v(" "+t._s(a.itemRef)),e("br")])])]),t._v(" "),e("hr")]})]}},{key:"ref_ahs",fn:function(a){return[t._l(a.item.ref_ahs,function(a){return[e("b",[t._v(t._s(a.nama))]),e("br"),t._v(" "),e("div",{staticClass:"row"},[a.image?e("div",{staticClass:"ui-w-80 ml-3 mt-2"},[t.isPdf(a.image)?[e("a",{attrs:{href:t.publicUrl+"upload/"+a.image}},[e("i",{staticClass:"fas fa-file-pdf"}),t._v(" view file\n                              ")])]:[a.image?e("img",{directives:[{name:"img",rawName:"v-img"}],staticClass:"d-block ui-w-80",attrs:{src:t.publicUrl+"upload/"+a.image,alt:""}}):t._e()]],2):t._e(),t._v(" "),e("div",{staticClass:"col"},[e("small",[e("b",[t._v("Deskripsi :")]),t._v(" "+t._s(a.deskripsi)),e("br"),t._v(" "),e("b",[t._v("Harga :")]),t._v(" "+t._s(t.formatPrice(a.harga))),e("br"),t._v(" "),e("b",[t._v("ROK :")]),t._v(" "+t._s(t.formatPrice(a.rok))),e("br"),t._v(" "),e("b",[t._v("Tanggal :")]),t._v(" "+t._s(a.itemRef)),e("br")])])]),t._v(" "),e("hr")]})]}}])})],1),t._v(" "),e("b-card-body",{staticClass:"pt-0 pb-3"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-sm text-sm-left text-center pt-3"},[t.listData.count?e("span",{staticClass:"text-muted"},[t._v("Page "+t._s(t.curPage)+" of "+t._s(t.totalPages))]):t._e()]),t._v(" "),e("div",{staticClass:"col-sm pt-3"},[t.listData.count?e("b-pagination",{staticClass:"justify-content-center justify-content-sm-end m-0",attrs:{"total-rows":t.listData.count,"per-page":t.perPage,size:"sm"},model:{value:t.curPage,callback:function(a){t.curPage=a},expression:"curPage"}}):t._e()],1)])])],1)],1)},[function(){var t=this.$createElement,a=this._self._c||t;return a("h4",{staticClass:"d-flex justify-content-between align-items-center w-100 mb-4"},[a("div",[this._v("Item")])])}],!1,null,null,null);a.default=l.exports}}]);